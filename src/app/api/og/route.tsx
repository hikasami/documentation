import { ImageResponse } from 'next/og';

export async function GET(request: Request) {
  const { searchParams, origin } = new URL(request.url);
  const title = searchParams.get('title') || 'Hikasami';

  return new ImageResponse(
    (
      <div
        style={{
          width: '1200px',
          height: '630px',
          padding: '44px 64px',
          backgroundColor: '#0d0d0d',
          display: 'flex',
          flexDirection: 'column',
          justifyContent: 'space-between',
          alignItems: 'flex-start',
          position: 'relative',
          overflow: 'hidden',
          backgroundImage: `url(${origin}/og-bg.png)`,
        }}
      >
        {/* Заголовок */}
        <div
          style={{
            width: '676px',
            fontSize: '48px',
            lineHeight: '72.8px',
            fontFamily: 'Hikasami',
            fontWeight: 400,
            color: '#fff',
            letterSpacing: '0.05em',
            display: 'flex',
          }}
        >
          {title}
        </div>

        {/* Блок документации */}
        <div
          style={{
            width: '1038px',
            display: 'flex',
            justifyContent: 'space-between',
            alignItems: 'center',
          }}
        >
          {/* Логотип */}
          <div
            style={{
              width: '80px',
              height: '80px',
              borderRadius: '24px',
              backgroundColor: '#eb0052',
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'center',
            }}
          >
            <svg width="47" height="45" viewBox="0 0 47 45" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M29.8097 12.7779L36.3581 12.6848L40.7889 12.8257L40.4981 12.8761C39.9672 12.8841 39.361 12.8956 38.7125 12.9079C38.7119 12.9079 38.7114 12.9079 38.7109 12.9079H38.7107C35.3009 12.9726 30.7248 13.0593 29.8097 12.7779Z" fill="white"/>
                <path d="M40.7889 12.8257L42.2151 12.871C41.8616 12.8603 41.2569 12.8647 40.4981 12.8761L40.7889 12.8257Z" fill="white"/>
                <path fillRule="evenodd" clipRule="evenodd" d="M20.7149 1.28005V2.18777L18.0416 2.58344C16.5534 2.81619 15.2305 3.04894 15.0652 3.14204C14.9274 3.21187 14.4864 3.28169 14.1006 3.30497C13.4116 3.35152 8.00985 4.25924 7.12793 4.46872C6.8799 4.53854 6.71454 4.70147 6.82478 4.81784C6.90746 4.95749 6.41138 5.02732 5.5019 4.98077C5.5019 4.98077 3.42669 4.88358 3.49003 5.5859C3.5364 6.10004 4.67511 6.44709 4.67511 6.44709H6.63186C7.81693 6.44709 8.53349 6.54019 8.45081 6.65657C8.23033 6.98242 9.99416 6.93586 11.5651 6.61001C12.5848 6.40054 12.7226 6.30744 12.2816 6.16779C12.006 6.07469 12.6123 6.02814 13.6872 6.05142C14.762 6.09797 16.4983 6.05142 17.5456 5.95832C17.8701 5.93211 18.1639 5.90714 18.4299 5.88451L18.4328 5.88427L18.4336 5.8842C19.9451 5.75564 20.5588 5.70345 20.8311 5.93616C21.0172 6.09522 21.0438 6.38739 21.0887 6.87928C21.0999 7.00179 21.1122 7.13668 21.1283 7.28499C21.211 8.16944 21.3764 9.70559 21.5142 10.7297C21.6244 11.7538 21.7071 12.6382 21.652 12.6848C21.6244 12.7081 20.5496 12.8477 19.2818 12.9641C18.0141 13.0805 16.8014 13.2434 16.581 13.3365C16.14 13.4761 16.0022 13.4994 14.1833 13.7554C13.0533 13.9184 12.7226 13.7554 13.2462 13.2667C13.7423 12.8012 14.1006 11.4978 13.825 11.0788C13.6596 10.8228 13.5218 10.3806 13.4943 10.0547C13.4391 9.61249 13.3289 9.51939 12.9982 9.68232C12.7777 9.77542 11.9785 9.86852 11.2619 9.86852C9.66344 9.89179 9.4154 10.0082 9.4154 10.753C9.4154 11.1021 9.25004 11.3116 9.00201 11.3116C8.58861 11.3116 8.50593 11.6141 8.47837 13.6158L8.45081 14.6632L6.90746 14.9192L5.3641 15.1985C5.3641 15.1985 3.68906 15.7313 2.71836 16.2342C1.85138 16.6834 0.651367 17.5725 0.651367 17.5725C0.761607 17.8518 4.84047 18.038 6.63186 17.8286L8.09253 17.6656L7.92717 18.7363C7.48621 21.6224 6.63186 29.4428 6.24602 34.0047C6.21756 34.3545 6.19074 34.6837 6.16547 34.9938L6.16485 35.0014L6.16457 35.0049C5.84825 38.8868 5.77605 39.7729 5.79424 40.6577C5.79962 40.9193 5.81291 41.1809 5.83012 41.5199L5.83262 41.5691L5.88774 42.8492L6.1909 42.0346L6.49406 41.2199L6.65942 42.0346C6.85138 42.7756 6.85233 42.7563 6.90664 41.6555L6.90746 41.6389C6.90746 40.9872 7.04526 40.382 7.18306 40.3122C7.29329 40.2424 7.56889 39.5674 7.73425 38.7993C7.89961 38.0313 8.20277 37.3796 8.36813 37.333C8.53349 37.2865 9.002 35.5176 9.4154 33.4228C9.8288 31.3048 10.2422 29.3264 10.3249 29.0006C10.4076 28.6747 10.628 27.5808 10.7934 26.5567C10.9588 25.5326 11.2619 24.5783 11.4548 24.4619C11.6478 24.3223 11.9509 23.4844 12.1438 22.5999C12.695 20.063 13.6045 17.3631 13.9352 17.3398C14.0242 17.3273 14.2888 17.3147 14.6301 17.2986L14.6303 17.2986L14.6306 17.2986L14.6308 17.2986L14.631 17.2985L14.6318 17.2985L14.6322 17.2985C14.9248 17.2846 15.2735 17.2681 15.6164 17.2467C16.388 17.2234 17.4904 17.0838 18.0968 16.9441C19.7779 16.5717 22.0103 16.3622 22.1756 16.595C22.2307 16.6881 22.3961 17.6191 22.4788 18.6432C22.589 19.6673 22.8646 21.8086 23.0851 23.4146C23.6087 27.2084 23.6639 27.6041 24.0497 29.8152C24.1383 30.3641 24.227 30.9331 24.2986 31.3931L24.2987 31.3938C24.3607 31.7917 24.41 32.108 24.4355 32.2591C25.1796 36.8675 25.5104 38.4735 25.7308 38.6597C25.8962 38.7993 25.9513 38.683 25.8411 38.3106C25.345 36.1693 24.9867 31.0255 25.3726 31.5608C25.5104 31.7237 25.7308 32.678 25.8411 33.6556C26.0891 36.146 26.3647 36.3089 26.3096 33.9349C26.2269 31.9332 26.2545 31.9099 26.6679 32.7013C26.8884 33.1435 27.2466 34.6098 27.4671 35.9598C27.7703 38.008 28.4868 41.7553 29.0931 44.5948C29.1483 44.9207 29.1758 43.8035 29.1207 42.1509C29.0105 39.4743 29.038 39.2881 29.2861 40.6381C29.4239 41.4527 29.6995 42.1975 29.8648 42.2906C30.0302 42.3837 30.2507 42.8492 30.3885 43.338C30.5538 44.0595 30.5814 43.85 30.5538 42.4535L30.4987 40.6381L29.8097 33.4926C29.5065 33.2366 29.0931 29.6988 29.3963 29.6988C29.5341 29.6988 29.5341 29.6057 29.3412 29.5126C29.1483 29.4195 29.0105 29.1402 29.038 28.8842C29.0656 28.1161 28.7073 25.649 27.853 20.6448C27.412 18.038 27.0537 15.8735 27.0537 15.8269C27.0537 15.7571 28.2939 15.5942 29.3412 15.5243L30.1129 15.5011C32.0728 15.0561 39.058 14.4589 43.0837 14.1148L43.0845 14.1148L43.0866 14.1146C43.9632 14.0396 44.6992 13.9767 45.2122 13.93L46.349 13.7554L45.9455 13.6563L42.9608 13.7087L45.2122 13.4762C45.2122 13.4762 44.4856 13.1122 43.972 12.9874C43.3106 12.8266 42.2151 12.871 42.2151 12.871L38.1825 13.2777L40.4981 12.8761C39.9672 12.8841 39.361 12.8956 38.7125 12.9079L38.7109 12.9079H38.7107C35.3009 12.9726 30.7248 13.0593 29.8097 12.7779C29.5065 13.0339 26.5025 13.2201 26.5025 12.9874C26.5025 12.8477 26.8332 12.6848 27.2742 12.6382C27.9908 12.5451 27.9908 12.5451 27.164 12.4986C26.3096 12.4753 26.282 12.4288 25.9513 11.009C25.7584 10.2176 25.5655 9.30992 25.5379 8.98407C25.4828 8.65822 25.3726 8.19272 25.2899 7.93669C25.2485 7.80867 25.1865 7.59918 25.1176 7.36641L25.1175 7.36608L25.1173 7.36539C25.0485 7.13293 24.9728 6.87734 24.904 6.65657L24.6836 5.84194L27.0537 5.46954C28.349 5.26007 29.5341 5.12042 29.6719 5.14369C29.6719 5.14369 32.1179 4.56182 32.1179 4.23597C32.1179 3.91012 31.9112 3.74719 31.9112 3.74719C31.9112 3.74719 33.2205 3.75045 33.7714 3.31659C34.3494 2.86143 34.3915 1.68979 34.3915 1.68979C33.8533 1.63526 33.7857 1.54479 33.861 1.39641C33.9988 1.09384 33.9161 1.04729 33.4476 1.16367C32.7311 1.37314 32.4003 0.954193 33.0342 0.605068C33.4752 0.372319 33.4476 0.349043 32.8413 0.465418C32.4554 0.535243 30.1129 0.884366 27.6325 1.23349C23.6087 1.79209 23.1127 1.83864 22.8095 1.51279C22.6441 1.30332 22.0929 0.977469 21.6244 0.744719L20.7149 0.349041V1.28005ZM13.2738 3.86357C13.2738 3.97994 13.0533 4.09632 12.8053 4.09632C12.3919 4.09632 12.3643 4.04977 12.7226 3.86357C13.2462 3.58427 13.2738 3.58427 13.2738 3.86357ZM29.5341 4.56182C29.0931 4.79457 27.6876 4.88767 27.9356 4.67819C28.0183 4.60837 28.3766 4.49199 28.7073 4.44544C29.038 4.39889 29.3963 4.28252 29.479 4.2127C29.5617 4.14287 29.6995 4.14287 29.7821 4.23597C29.8648 4.30579 29.7546 4.44544 29.5341 4.56182ZM22.3685 7.51774C22.3685 8.86769 22.0378 8.63494 21.8725 7.21517C21.8173 6.49364 21.8725 6.19107 22.0654 6.30744C22.2307 6.37727 22.3685 6.93587 22.3685 7.51774ZM22.2859 9.84524C22.2032 10.078 22.1481 9.89179 22.1481 9.44957C22.1481 9.00734 22.2032 8.82114 22.2859 9.03061C22.341 9.26336 22.341 9.63576 22.2859 9.84524ZM22.5615 11.1254C22.4788 11.2883 22.4237 11.1719 22.4237 10.8461C22.4237 10.5202 22.4788 10.4038 22.5615 10.5435C22.6166 10.7064 22.6166 10.9857 22.5615 11.1254ZM21.4039 13.1736C21.4866 13.2899 21.4315 13.4063 21.2937 13.4063C21.1283 13.4063 20.9905 13.2899 20.9905 13.1736C20.9905 13.0339 21.0457 12.9408 21.1008 12.9408C21.1835 12.9408 21.3213 13.0339 21.4039 13.1736ZM13.0809 17.5027C13.1635 17.5958 13.0809 17.9217 12.8879 18.2708C12.6675 18.5966 12.4194 19.3182 12.3092 19.8535C12.199 20.4121 12.0336 20.8543 11.9234 20.8543C11.7856 20.8543 11.8958 20.063 12.1163 19.1087C12.5021 17.4562 12.6675 17.1769 13.0809 17.5027ZM33.4043 14.0535H35.75L32.1179 14.2258L33.4043 14.0535ZM43.3952 13.3639L42.3527 13.4501L42.092 13.5363H42.4395L43.3952 13.3639Z" fill="white"/>
            </svg>
          </div>

          {/* Текст */}
          <div
            style={{
              fontSize: '24px',
              lineHeight: '40px',
              fontWeight: 700,
              color: '#fff',
              letterSpacing: '-0.01em',
              display: 'flex',
            }}
          >
            Документация
          </div>
        </div>

        {/* Нижняя полоса */}
        <div
          style={{
            width: '1200px',
            height: '10px',
            backgroundColor: '#eb0052',
            position: 'absolute',
            bottom: 0,
            left: 0,
          }}
        />
      </div>
    ),
    {
      width: 1200,
      height: 630,
    }
  );
}
